---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
---
<Layout title="Manage Your Data - GrupChat">
  <Navbar />
  <section class="max-w-2xl mx-auto py-16 px-4 sm:px-6 lg:px-8">
    <h1 class="text-3xl font-bold text-primary-main mb-8">Manage Your Data</h1>
    
    <div class="mb-8 bg-blue-50 border-l-4 border-blue-500 p-4 rounded">
      <h2 class="text-lg font-semibold text-blue-700 mb-2">Your Data Rights</h2>
      <p class="text-blue-600">
        You have control over your personal data. You can:
      </p>
      <ul class="list-disc ml-6 mt-2 text-blue-600">
        <li>Request deletion of specific data while keeping your account</li>
        <li>Download a copy of your data</li>
        <li>Request correction of inaccurate data</li>
        <li>Delete your entire account (this will delete all your data)</li>
      </ul>
    </div>

    <div class="space-y-8">
      <!-- Selective Data Deletion -->
      <div class="bg-white rounded-xl shadow p-6">
        <h2 class="text-xl font-semibold text-gray-900 mb-4">Selective Data Deletion</h2>
        <p class="text-gray-600 mb-4">
          Choose which data you'd like to delete while keeping your account active. Note that some data may be retained for legal or operational purposes.
        </p>
        <div class="bg-white rounded-xl">
          <iframe 
            src="YOUR_SELECTIVE_DELETION_FORM_EMBED_URL" 
            width="100%" 
            height="500" 
            frameborder="0" 
            marginheight="0" 
            marginwidth="0"
            class="rounded-lg"
          >
            Loading…
          </iframe>
        </div>
      </div>

      <!-- Data Download -->
      <div class="bg-white rounded-xl shadow p-6">
        <h2 class="text-xl font-semibold text-gray-900 mb-4">Download Your Data</h2>
        <p class="text-gray-600 mb-4">
          Request a copy of your personal data in a structured, commonly used format.
        </p>
        <div class="bg-white rounded-xl">
          <iframe 
            src="YOUR_DATA_DOWNLOAD_FORM_EMBED_URL" 
            width="100%" 
            height="400" 
            frameborder="0" 
            marginheight="0" 
            marginwidth="0"
            class="rounded-lg"
          >
            Loading…
          </iframe>
        </div>
      </div>

      <!-- Account Deletion -->
      <div class="bg-white rounded-xl shadow p-6">
        <h2 class="text-xl font-semibold text-gray-900 mb-4">Delete Your Account</h2>
        <p class="text-gray-600 mb-4">
          This will permanently delete your account and all associated data. This action cannot be undone.
        </p>
        <a 
          href="/delete-account" 
          class="inline-block bg-red-600 text-white px-6 py-3 rounded-xl hover:bg-red-700 transition-colors duration-200"
        >
          Proceed to Account Deletion
        </a>
      </div>
    </div>

    <div class="mt-6 bg-primary-main/10 border-l-4 border-primary-main p-4 rounded">
      <p class="text-primary-main font-medium">
        If you're having trouble with any of these forms, you can send your request directly to <a href="mailto:grupchatinfo@gmail.com" class="underline">grupchatinfo@gmail.com</a>. Please specify the type of request in the subject line.
      </p>
    </div>

    <!-- Data Retention Notice -->
    <div class="mt-8 p-6 bg-gray-50 rounded-xl">
      <h2 class="text-lg font-semibold text-gray-900 mb-4">Data Retention</h2>
      <p class="text-gray-600">
        Some data may be retained for up to 90 days after deletion for:
      </p>
      <ul class="list-disc ml-6 mt-2 text-gray-600">
        <li>Legal compliance requirements</li>
        <li>Fraud prevention</li>
        <li>Dispute resolution</li>
        <li>Service recovery in case of accidental deletion</li>
      </ul>
      <p class="mt-4 text-gray-600">
        After 90 days, all data will be permanently deleted from our systems.
      </p>
    </div>
  </section>
  <Footer />
</Layout> 